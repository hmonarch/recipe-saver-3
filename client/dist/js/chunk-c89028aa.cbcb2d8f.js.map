{"version":3,"sources":["webpack:///./src/components/Account.vue?0e95","webpack:///src/components/Account.vue","webpack:///./src/components/Account.vue?b626","webpack:///./src/components/Account.vue","webpack:///./node_modules/core-js/modules/_object-to-array.js","webpack:///./src/assets/logo-255x255.svg","webpack:///./src/components/Account.vue?356e","webpack:///./src/services/StripeService.js","webpack:///./node_modules/core-js/modules/es7.object.entries.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","class","saving","imageIsSaving","profile-image-container","src","getUserImg","ref","type","accept","hidden","on","click","triggerUpload","_v","_s","user","name","subscription","loginMethod","formatDate","creationDate","href","$event","preventDefault","cancelSubscription","_e","test","to","path","confirmDeleteAccount","directives","rawName","value","expression","error","processing","account-modal-inner","confirm-delete","isConfirmDelete","_m","title","message","deleteAccountFinal","showModal","staticRenderFns","__webpack_require__","Accountvue_type_script_lang_js_","components","Header","Icon","Icons","SideNav","mixins","utils","data","computed","method","Object","entries","length","googleId","facebookId","emailStr","concat","email","methods","$refs","profileImageInput","profileImage","getAccountData","_getAccountData","asyncToGenerator","regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","AuthService","sent","stop","apply","arguments","handleImage","_handleImage","_callee2","e","image","_context2","target","files","size","EventBus","$emit","isError","abrupt","MiscService","uploadImage","document","querySelector","setAttribute","$ga","event","eventCategory","eventAction","eventLabel","replace","_x","_cancelSubscription","_callee3","_context3","resetModal","StripeService","_deleteAccountFinal","_callee4","_context4","deleteAccount","mounted","addEventListener","created","beforeCreate","body","className","components_Accountvue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__","getKeys","toIObject","isEnum","f","module","exports","isEntries","it","key","O","keys","i","result","call","push","p","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Account_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Account_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n","_services_Api__WEBPACK_IMPORTED_MODULE_0__","charge","Api","post","get","$export","$entries","S"],"mappings":"gJAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,MAAA,CAAOC,GAAA,YAAgB,CAAAH,EAAA,WAAAA,EAAA,UAAAA,EAAA,OAAuCE,MAAA,CAAOC,GAAA,sBAA0B,CAAAH,EAAA,OAAYI,YAAA,gBAA2B,CAAAJ,EAAA,OAAYK,MAAA,CAAOC,OAAAV,EAAAW,cAAAC,2BAAA,IAAgE,CAAAR,EAAA,OAAYE,MAAA,CAAOC,GAAA,gBAAAM,IAAAb,EAAAc,gBAA6CV,EAAA,SAAcW,IAAA,oBAAAT,MAAA,CAA+BU,KAAA,OAAAT,GAAA,sBAAAU,OAAA,UAAAC,OAAA,MAAyEd,EAAA,OAAYE,MAAA,CAAOC,GAAA,yBAA6BY,GAAA,CAAKC,MAAApB,EAAAqB,gBAA2B,CAAAjB,EAAA,UAAeI,YAAA,yBAAoC,CAAAR,EAAAsB,GAAA,wBAAAlB,EAAA,OAA2CI,YAAA,iBAA4B,CAAAJ,EAAA,OAAYI,YAAA,gBAA2B,CAAAR,EAAAsB,GAAAtB,EAAAuB,GAAAvB,EAAAwB,KAAAC,SAAArB,EAAA,MAA2CI,YAAA,gBAA2B,CAAAJ,EAAA,MAAAA,EAAA,SAAAJ,EAAAsB,GAAA,kBAAAlB,EAAA,OAA0DI,YAAA,sBAAiC,CAAAR,EAAAsB,GAAAtB,EAAAuB,GAAAvB,EAAAwB,KAAAE,mBAAAtB,EAAA,MAAAA,EAAA,SAAAJ,EAAAsB,GAAA,mBAAAlB,EAAA,OAAqGI,YAAA,sBAAiC,CAAAR,EAAAsB,GAAAtB,EAAAuB,GAAAvB,EAAA2B,kBAAAvB,EAAA,MAAAA,EAAA,SAAAJ,EAAAsB,GAAA,kBAAAlB,EAAA,OAA8FI,YAAA,sBAAiC,CAAAR,EAAAsB,GAAAtB,EAAAuB,GAAAvB,EAAA4B,WAAA5B,EAAAwB,KAAAK,wBAAAzB,EAAA,OAA0EI,YAAA,6BAAwC,sBAAAR,EAAAwB,KAAAE,aAAAtB,EAAA,KAAyDE,MAAA,CAAOwB,KAAA,KAAWX,GAAA,CAAKC,MAAA,SAAAW,GAAiD,OAAxBA,EAAAC,iBAAwBhC,EAAAiC,wBAAkC,CAAAjC,EAAAsB,GAAA,yBAAAtB,EAAAkC,KAAA,QAAAC,KAAAnC,EAAAwB,KAAAE,cAAAtB,EAAA,eAAmGE,MAAA,CAAOwB,KAAA,IAAAM,GAAA,CAAiBC,KAAA,YAAmB,CAAArC,EAAAsB,GAAA,0BAAAtB,EAAAkC,MAAA,GAAA9B,EAAA,OAA0DI,YAAA,kBAA6B,CAAAJ,EAAA,KAAUE,MAAA,CAAOwB,KAAA,KAAWX,GAAA,CAAKC,MAAA,SAAAW,GAAiD,OAAxBA,EAAAC,iBAAwBhC,EAAAsC,0BAAoC,CAAAtC,EAAAsB,GAAA,wBAAAlB,EAAA,OAA2CmC,WAAA,EAAad,KAAA,OAAAe,QAAA,SAAAC,MAAAzC,EAAA,UAAA0C,WAAA,cAA0ElC,YAAA,iBAA8B,CAAAJ,EAAA,OAAYI,YAAA,sBAAAC,MAAA,CAAyCkC,MAAA3C,EAAA2C,MAAAC,YAAA,IAAA5C,EAAA4C,WAAAC,uBAAA,EAAAC,iBAAA9C,EAAA+C,kBAAiI,CAAA/C,EAAAgD,GAAA,GAAA5C,EAAA,OAAsBI,YAAA,sBAAiC,CAAAR,EAAAsB,GAAA,mBAAAlB,EAAA,OAAsCI,YAAA,uBAAkC,CAAAR,EAAAsB,GAAAtB,EAAAuB,GAAAvB,EAAAiD,UAAA7C,EAAA,OAAwCI,YAAA,mBAA8B,CAAAR,EAAAsB,GAAAtB,EAAAuB,GAAAvB,EAAAkD,YAAA9C,EAAA,OAA0CmC,WAAA,EAAad,KAAA,OAAAe,QAAA,SAAAC,OAAAzC,EAAA4C,WAAAF,WAAA,gBAA8ElC,YAAA,sBAAmC,CAAAJ,EAAA,OAAYmC,WAAA,EAAad,KAAA,OAAAe,QAAA,SAAAC,MAAAzC,EAAA,gBAAA0C,WAAA,oBAAsFlC,YAAA,+CAAAW,GAAA,CAAiEC,MAAA,SAAAW,GAAyB,OAAA/B,EAAAmD,wBAAkC,CAAAnD,EAAAsB,GAAA,oBAAAlB,EAAA,OAAuCI,YAAA,wCAAAW,GAAA,CAAwDC,MAAA,SAAAW,GAAyB/B,EAAAoD,WAAA,KAAwB,CAAApD,EAAAsB,GAAA,eAAAlB,EAAA,OAAkCI,YAAA,uBAA8B,IAC93F6C,EAAA,YAAoC,IAAArD,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBI,YAAA,WAAsB,CAAAJ,EAAA,OAAYI,YAAA,gBAAAF,MAAA,CAAmCO,IAAMyC,EAAQ,uKCyEvMC,EAAA,CACAC,WAAA,CACAC,SAAA,KACAC,KAAAC,EAAA,KACAC,UAAA,MAEAC,OAAA,CAAAC,EAAA,MACAC,KAPA,WAQA,OACAvC,KAAA,GACAb,eAAA,EACAyC,WAAA,EACAR,YAAA,EACAG,iBAAA,EACAJ,OAAA,EACAM,MAAA,GACAC,QAAA,KAGAc,SAAA,CACArC,YADA,WAEA,IAAAsC,EACA,OAAAC,OAAAC,QAAAlE,KAAAuB,MAAA4C,OAAA,SACAH,EAAAhE,KAAAuB,KAAA6C,SAAA,SACApE,KAAAuB,KAAA8C,WAAA,WACA,QAEA,IAAAC,EAAA,KAAAC,OAAAvE,KAAAuB,KAAAiD,MAAA,KACA,SAAAD,OAAAP,GAAAO,OAAA,UAAAP,EAAAM,EAAA,MAGAG,QAAA,CACArD,cADA,WAEApB,KAAA0E,MAAAC,kBAAAxD,SAEAN,WAJA,WAKA,OAAAb,KAAAuB,KAAAqD,cAAA,yFAEAC,eAPA,eAAAC,EAAAb,OAAAc,EAAA,KAAAd,CAAAe,mBAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAA,OAAAH,mBAAAI,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAQAC,EAAA,KAAAX,iBARA,OAQAM,EARAE,EAAAI,KASAzF,KAAAuB,KAAA4D,EAAArB,KATA,wBAAAuB,EAAAK,SAAAR,EAAAlF,SAAA,SAAA6E,IAAA,OAAAC,EAAAa,MAAA3F,KAAA4F,WAAA,OAAAf,EAAA,GAWAgB,YAXA,eAAAC,EAAA7B,OAAAc,EAAA,KAAAd,CAAAe,mBAAAC,KAAA,SAAAc,EAWAC,GAXA,IAAAC,EAAAd,EAAA,OAAAH,mBAAAI,KAAA,SAAAc,GAAA,eAAAA,EAAAZ,KAAAY,EAAAX,MAAA,UAYAvF,KAAAU,eAAA,EACAuF,EAAAD,EAAAG,OAAAC,MAAA,KAEAH,EAAAI,KAAA,KAfA,CAAAH,EAAAX,KAAA,eAgBAvF,KAAAU,eAAA,EACA4F,EAAA,KAAAC,MAAA,WACAvD,MAAA,wBACAC,QAAA,4BACAuD,SAAA,IApBAN,EAAAO,OAAA,wBAAAP,EAAAX,KAAA,EAyBAmB,EAAA,KAAAC,YAAAV,GAzBA,OAyBAd,EAzBAe,EAAAT,KA0BAmB,SAAAC,cAAA,kBAAAC,aAAA,MAAA3B,EAAArB,KAAAc,cACA5E,KAAAU,eAAA,EACAV,KAAA+G,IAAAC,MAAA,CACAC,cAAA,eACAC,YAAA,2BACAC,WAAAhC,EAAArB,KAAAc,aAAAwC,QAAA,2DA/BA,yBAAAlB,EAAAR,SAAAK,EAAA/F,SAAA,SAAA6F,EAAAwB,GAAA,OAAAvB,EAAAH,MAAA3F,KAAA4F,WAAA,OAAAC,EAAA,GAkCA7D,mBAlCA,eAAAsF,EAAArD,OAAAc,EAAA,KAAAd,CAAAe,mBAAAC,KAAA,SAAAsC,IAAA,IAAApC,EAAAlC,EAAA,OAAA+B,mBAAAI,KAAA,SAAAoC,GAAA,eAAAA,EAAAlC,KAAAkC,EAAAjC,MAAA,cAmCAvF,KAAAyH,aAEAzH,KAAA2C,YAAA,EACA3C,KAAAmD,WAAA,EAtCAqE,EAAAjC,KAAA,EAuCAmC,EAAA,KAAA1F,qBAvCA,OAuCAmD,EAvCAqC,EAAA/B,KAwCAxC,EAAAkC,EAAArB,KAAAb,QACAjD,KAAA2C,YAAA,EAEA,kBAAAM,GAAA,kBAAAA,IACAjD,KAAA0C,OAAA,EACA1C,KAAAgD,MAAA,QACAhD,KAAAiD,QAAA,gIAGA,cAAAA,IACAjD,KAAA0C,OAAA,EACA1C,KAAAgD,MAAA,QACAhD,KAAAiD,QAAA,iFAGA,4BAAAA,IACAjD,KAAAgD,MAAA,yBACAhD,KAAAiD,QAAA,qFAGAjD,KAAA6E,kBA5DA,yBAAA2C,EAAA9B,SAAA6B,EAAAvH,SAAA,SAAAgC,IAAA,OAAAsF,EAAA3B,MAAA3F,KAAA4F,WAAA,OAAA5D,EAAA,GA+DAK,qBA/DA,WAgEArC,KAAAyH,aAEAzH,KAAA8C,iBAAA,EACA9C,KAAAmD,WAAA,EACAnD,KAAAgD,MAAA,yBACAhD,KAAAiD,QAAA,wLAEAC,mBAvEA,eAAAyE,EAAA1D,OAAAc,EAAA,KAAAd,CAAAe,mBAAAC,KAAA,SAAA2C,IAAA,IAAAzC,EAAAlC,EAAA,OAAA+B,mBAAAI,KAAA,SAAAyC,GAAA,eAAAA,EAAAvC,KAAAuC,EAAAtC,MAAA,cAwEAvF,KAAAyH,aAEAzH,KAAA2C,YAAA,EA1EAkF,EAAAtC,KAAA,EA2EAmC,EAAA,KAAAI,gBA3EA,OA2EA3C,EA3EA0C,EAAApC,KA4EAxC,EAAAkC,EAAArB,KAAAb,QACAjD,KAAA2C,YAAA,EAEA,kBAAAM,IACAjD,KAAA0C,OAAA,EACA1C,KAAAgD,MAAA,uBACAhD,KAAAiD,QAAA,sCAGA,oBAAAA,IACAjD,KAAA0C,OAAA,EACA1C,KAAAgD,MAAA,kBACAhD,KAAAiD,QAAA,oEAGAjD,KAAAmD,WAAA,EA3FA,yBAAA0E,EAAAnC,SAAAkC,EAAA5H,SAAA,SAAAkD,IAAA,OAAAyE,EAAAhC,MAAA3F,KAAA4F,WAAA,OAAA1C,EAAA,GA6FAuE,WA7FA,WA8FAzH,KAAA0C,OAAA,EACA1C,KAAA8C,iBAAA,EACA9C,KAAAgD,MAAA,GACAhD,KAAAiD,QAAA,KAGA8E,QAnIA,WAoIAnB,SAAAC,cAAA,wBAAAmB,iBAAA,SAAAhI,KAAA6F,cAEAoC,QAtIA,WAuIAjI,KAAA6E,kBAEAqD,aAzIA,WA0IAtB,SAAAuB,KAAAC,UAAA,YCpNiVC,EAAA,0BCQjVC,EAAgBrE,OAAAsE,EAAA,KAAAtE,CACdoE,EACAvI,EACAsD,GACF,EACA,KACA,KACA,MAIeoF,EAAA,WAAAF,kCCnBf,IAAAG,EAAcpF,EAAQ,QACtBqF,EAAgBrF,EAAQ,QACxBsF,EAAatF,EAAQ,QAAeuF,EACpCC,EAAAC,QAAA,SAAAC,GACA,gBAAAC,GACA,IAKAC,EALAC,EAAAR,EAAAM,GACAG,EAAAV,EAAAS,GACA/E,EAAAgF,EAAAhF,OACAiF,EAAA,EACAC,EAAA,GAEA,MAAAlF,EAAAiF,EAAAT,EAAAW,KAAAJ,EAAAD,EAAAE,EAAAC,OACAC,EAAAE,KAAAR,EAAA,CAAAE,EAAAC,EAAAD,IAAAC,EAAAD,IACK,OAAAI,0BCbLR,EAAAC,QAAiBzF,EAAAmG,EAAuB,mECAxC,IAAAC,EAAApG,EAAA,QAAAqG,EAAArG,EAAAsG,EAAAF,GAA2gBC,EAAG,qCCA9gB,IAAAE,EAAAvG,EAAA,QAEemF,EAAA,MACbqB,OADa,SACN/F,GACL,OAAOgG,iBAAMC,KAAK,UAAWjG,IAE/B9B,mBAJa,WAKX,OAAO8H,iBAAME,IAAI,yBAEnBlC,cAPa,WAQX,OAAOgC,iBAAME,IAAI,2CCTrB,IAAAC,EAAc5G,EAAQ,QACtB6G,EAAe7G,EAAQ,OAARA,EAA4B,GAE3C4G,IAAAE,EAAA,UACAjG,QAAA,SAAA8E,GACA,OAAAkB,EAAAlB","file":"js/chunk-c89028aa.cbcb2d8f.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"account\"}},[_c('SideNav'),_c('Header'),_c('div',{attrs:{\"id\":\"account-container\"}},[_c('div',{staticClass:\"account-left\"},[_c('div',{class:{ 'saving': _vm.imageIsSaving, 'profile-image-container': true }},[_c('img',{attrs:{\"id\":\"profile-image\",\"src\":_vm.getUserImg()}}),_c('input',{ref:\"profileImageInput\",attrs:{\"type\":\"file\",\"id\":\"profile-image-input\",\"accept\":\"image/*\",\"hidden\":\"\"}}),_c('div',{attrs:{\"id\":\"profile-image-overlay\"},on:{\"click\":_vm.triggerUpload}},[_c('button',{staticClass:\"new-profile-image-btn\"},[_vm._v(\"Update Image\")])])])]),_c('div',{staticClass:\"account-right\"},[_c('div',{staticClass:\"account-name\"},[_vm._v(_vm._s(_vm.user.name))]),_c('ul',{staticClass:\"account-info\"},[_c('li',[_c('label',[_vm._v(\"Account Type\")]),_c('div',{staticClass:\"account-info-value\"},[_vm._v(_vm._s(_vm.user.subscription))])]),_c('li',[_c('label',[_vm._v(\"You Login Via\")]),_c('div',{staticClass:\"account-info-value\"},[_vm._v(_vm._s(_vm.loginMethod))])]),_c('li',[_c('label',[_vm._v(\"Member Since\")]),_c('div',{staticClass:\"account-info-value\"},[_vm._v(_vm._s(_vm.formatDate(_vm.user.creationDate)))])])])]),_c('div',{staticClass:\"upgrade-downgrade-account\"},[(_vm.user.subscription === 'Full (9/monthly)')?_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.cancelSubscription()}}},[_vm._v(\"Cancel Subscription\")]):_vm._e(),(/Basic/.test(_vm.user.subscription))?_c('router-link',{attrs:{\"href\":\"#\",\"to\":{ path: '/plans' }}},[_vm._v(\"Upgrade To Full Plan\")]):_vm._e()],1),_c('div',{staticClass:\"delete-account\"},[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.confirmDeleteAccount()}}},[_vm._v(\"Delete Account\")])])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showModal),expression:\"showModal\"}],staticClass:\"account-modal\"},[_c('div',{staticClass:\"account-modal-inner\",class:{ 'error': _vm.error, 'processing': _vm.processing === true, 'account-modal-inner': true, 'confirm-delete': _vm.isConfirmDelete }},[_vm._m(0),_c('div',{staticClass:\"account-processing\"},[_vm._v(\"Processing...\")]),_c('div',{staticClass:\"account-modal-title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"account-message\"},[_vm._v(_vm._s(_vm.message))]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.processing),expression:\"!processing\"}],staticClass:\"account-modal-ctas\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isConfirmDelete),expression:\"isConfirmDelete\"}],staticClass:\"account-delete-confirm-btn account-modal-cta\",on:{\"click\":function($event){return _vm.deleteAccountFinal()}}},[_vm._v(\"Delete Account\")]),_c('div',{staticClass:\"account-modal-cta account-modal-close\",on:{\"click\":function($event){_vm.showModal = false}}},[_vm._v(\"Close\")])])]),_c('div',{staticClass:\"account-overlay\"})])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rs-logo\"},[_c('img',{staticClass:\"rs-logo-image\",attrs:{\"src\":require(\"../assets/logo-255x255.svg\")}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"account\">\r\n\r\n    <SideNav></SideNav>\r\n    <Header></Header>\r\n    <div id=\"account-container\">\r\n      <div class=\"account-left\">\r\n        <div :class=\" { 'saving': imageIsSaving, 'profile-image-container': true }\">\r\n          <img id=\"profile-image\" :src=\"getUserImg()\">\r\n          <input type=\"file\" id=\"profile-image-input\" accept=\"image/*\" hidden ref=\"profileImageInput\">\r\n          <div @click=\"triggerUpload\" id=\"profile-image-overlay\">\r\n            <button class=\"new-profile-image-btn\">Update Image</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"account-right\">\r\n        <div class=\"account-name\">{{ user.name }}</div>\r\n        <ul class=\"account-info\">\r\n          <li>\r\n            <label>Account Type</label>\r\n            <div class=\"account-info-value\">{{ user.subscription }}</div>\r\n          </li>\r\n          <li>\r\n            <label>You Login Via</label>\r\n            <div class=\"account-info-value\">{{ loginMethod }}</div>\r\n          </li>\r\n          <li>\r\n            <label>Member Since</label>\r\n            <div class=\"account-info-value\">{{ formatDate(user.creationDate) }}</div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div class=\"upgrade-downgrade-account\">\r\n        <!-- Show the cancel option for Full monthly customers only -->\r\n        <a href=\"#\" v-if=\"user.subscription === 'Full (9/monthly)'\" @click.prevent=\"cancelSubscription()\">Cancel Subscription</a>\r\n        <router-link href=\"#\" v-if=\"/Basic/.test(user.subscription)\" :to=\"{ path: '/plans' }\">Upgrade To Full Plan</router-link>\r\n      </div>\r\n      <div class=\"delete-account\">\r\n        <a href=\"#\" @click.prevent=\"confirmDeleteAccount()\">Delete Account</a>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    <div v-show=\"showModal\" class=\"account-modal\">\r\n      <div class=\"account-modal-inner\" :class=\"{ 'error': error, 'processing': processing === true, 'account-modal-inner': true, 'confirm-delete': isConfirmDelete }\">\r\n        <div class=\"rs-logo\">\r\n          <img class=\"rs-logo-image\" src=\"../assets/logo-255x255.svg\">\r\n        </div>\r\n        <div class=\"account-processing\">Processing...</div>\r\n        <div class=\"account-modal-title\">{{ title }}</div>\r\n        <div class=\"account-message\">{{ message }}</div>\r\n        <div v-show=\"!processing\" class=\"account-modal-ctas\">\r\n          <div class=\"account-delete-confirm-btn account-modal-cta\" v-show=\"isConfirmDelete\" @click=\"deleteAccountFinal()\">Delete Account</div>\r\n          <div class=\"account-modal-cta account-modal-close\" @click=\"showModal = false\">Close</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"account-overlay\"></div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from '@/components/Header.vue';\r\nimport EventBus from '@/EventBus';\r\nimport AuthService from '@/services/AuthService';\r\nimport MiscService from '@/services/MiscService';\r\nimport StripeService from '@/services/StripeService';\r\nimport Icon from '@/components/Icons';\r\nimport utils from '@/mixins/utils';\r\nimport SideNav from '@/components/SideNav.vue';\r\n\r\nexport default {\r\n  components: {\r\n    Header,\r\n    Icon,\r\n    SideNav\r\n  },\r\n  mixins: [utils],\r\n  data() {\r\n    return {\r\n      user: {},\r\n      imageIsSaving: false,\r\n      showModal: false,\r\n      processing: false,\r\n      isConfirmDelete: false,\r\n      error: false,\r\n      title: '',\r\n      message: '',\r\n    };\r\n  },\r\n  computed: {\r\n    loginMethod() {\r\n      let method;\r\n      if (Object.entries(this.user).length === 0 ) return '';\r\n      if (this.user.googleId) method = 'Google';\r\n      else if (this.user.facebookId) method = 'Facebook';\r\n      else method = 'Email';\r\n\r\n      const emailStr = ` (${this.user.email})`;\r\n      return `${method}${method === 'Email' ? emailStr : '' }`;\r\n    }\r\n  },\r\n  methods: {\r\n    triggerUpload() {\r\n      this.$refs.profileImageInput.click();\r\n    },\r\n    getUserImg() {\r\n      return this.user.profileImage || 'https://res.cloudinary.com/dormh2fvt/image/upload/v1559367596/logo-255x255_r72o7i.png';\r\n    },\r\n    async getAccountData() {\r\n      const response = await AuthService.getAccountData();\r\n      this.user = response.data;\r\n    },\r\n    async handleImage(e) {\r\n      this.imageIsSaving = true;\r\n      const image = e.target.files[0];\r\n\r\n      if (image.size > 3000000) {\r\n        this.imageIsSaving = false;\r\n        EventBus.$emit('MESSAGE', {\r\n          title: 'Error Uploading Photo',\r\n          message: 'Image must be 3MB or less',\r\n          isError: true,\r\n        });\r\n        return;\r\n      }\r\n\r\n      const response = await MiscService.uploadImage(image);\r\n      document.querySelector('#profile-image').setAttribute('src', response.data.profileImage);\r\n      this.imageIsSaving = false;\r\n      this.$ga.event({\r\n        eventCategory: 'User Actions',\r\n        eventAction: 'profile picture uploaded',\r\n        eventLabel: response.data.profileImage.replace('https://res.cloudinary.com/dormh2fvt/image/upload/', '')\r\n      });\r\n    },\r\n    async cancelSubscription() {\r\n      this.resetModal();\r\n\r\n      this.processing = true;\r\n      this.showModal = true;\r\n      const response = await StripeService.cancelSubscription();\r\n      const message = response.data.message;\r\n      this.processing = false;\r\n\r\n      if (message === 'not logged in' || message === 'no user found') {\r\n        this.error = true;\r\n        this.title = 'Error';\r\n        this.message = 'Could not find account. Please login again to retry. If the issues persists please contact support at support@recipesaver.me';\r\n      }\r\n\r\n      if (message === 'no sub id') {\r\n        this.error = true;\r\n        this.title = 'Error';\r\n        this.message = 'Could not find subscription. Please contact support at support@recipesaver.me';\r\n      }\r\n\r\n      if (message === 'successful cancellation') {\r\n        this.title = 'Subscription Cancelled';\r\n        this.message = 'You may continue using Recipe Saver Lite version and may upgrade again the future.';\r\n\r\n        // Reset user data for template\r\n        this.getAccountData();\r\n      }\r\n    },\r\n    confirmDeleteAccount() {\r\n      this.resetModal();\r\n\r\n      this.isConfirmDelete = true;\r\n      this.showModal = true;\r\n      this.title = 'WARNING! Are You Sure?';\r\n      this.message = ' Your entire account along with all your recipes will be permanently deleted. If you\\'re a Full plan member your subscription will be canceled as well. Do you still wish to proceed?'\r\n    },\r\n    async deleteAccountFinal() {\r\n      this.resetModal();\r\n\r\n      this.processing = true;\r\n      const response = await StripeService.deleteAccount();\r\n      const message = response.data.message;\r\n      this.processing = false;\r\n\r\n      if (message === 'not logged in') {\r\n        this.error = true;\r\n        this.title = 'Something Went Wrong';\r\n        this.message = 'Please try logging in again first.';\r\n      }\r\n\r\n      if (message === 'account deleted') {\r\n        this.error = true;\r\n        this.title = 'Account Deleted';\r\n        this.message = 'Your account (and subscription if you had one) has been deleted.';\r\n      }\r\n\r\n      this.showModal = true;\r\n    },\r\n    resetModal() {\r\n      this.error = false;\r\n      this.isConfirmDelete = false;\r\n      this.title = '';\r\n      this.message = '';\r\n    }\r\n  },\r\n  mounted() {\r\n    document.querySelector('#profile-image-input').addEventListener('change', this.handleImage);\r\n  },\r\n  created() {\r\n    this.getAccountData();\r\n  },\r\n  beforeCreate() {\r\n    document.body.className = 'account';\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n#account {\r\n  header {\r\n    .header-inner {\r\n      width: 100%;\r\n      padding: 0 20px;\r\n\r\n      #nav li.search-container {\r\n        display: none;\r\n      }\r\n    }\r\n  }\r\n\r\n  #side-nav {\r\n    display: none;\r\n\r\n    #add-recipe {\r\n      display: none;\r\n    }\r\n\r\n    #side-nav-menu {\r\n      margin-top: 40px;\r\n    }\r\n  }\r\n\r\n  #account-container {\r\n    border-radius: 4px;\r\n    background-color: #fff;\r\n    box-shadow: rgba(0, 0, 0, 0.298039) 0px 1px 3px 0px;\r\n    margin: 50px auto 0 auto;\r\n    max-width: 820px;\r\n    padding: 40px;\r\n    display: grid;\r\n    align-items: center;\r\n    grid-template-columns: 30% 1fr;\r\n    box-sizing: border-box;\r\n    min-height: 380px;\r\n    position: relative;\r\n\r\n    .account-left {\r\n      position: relative;\r\n\r\n      .profile-image-container:hover,\r\n      .profile-image-container.saving {\r\n        #profile-image-overlay {\r\n          display: block;\r\n        }\r\n      }\r\n\r\n      .profile-image-container.saving {\r\n        #profile-image-overlay {\r\n          background-image: url(../assets/spinner.gif);\r\n          background-color: rgba(255, 255, 255, 0.9);\r\n          background-repeat: no-repeat;\r\n          background-position: center center;\r\n\r\n          .new-profile-image-btn {\r\n            display: none;\r\n          }\r\n        }\r\n      }\r\n\r\n      #profile-image,\r\n      #profile-image-overlay {\r\n        border-radius: 50%;\r\n        width: 215px;\r\n        height: 215px;\r\n      }\r\n\r\n      #profile-image-overlay {\r\n        display: none;\r\n        background-color: rgba(52, 51, 51, 0.67);\r\n        position: absolute;\r\n        top: 0;\r\n        left: 3px;\r\n        z-index: 5;\r\n        cursor: pointer;\r\n\r\n        &:hover {\r\n          .new-profile-image-btn {\r\n            background-color: #23d82f;\r\n          }\r\n        }\r\n\r\n        .new-profile-image-btn {\r\n          cursor: pointer;\r\n          background-color: #089de3;\r\n          display: inline-block;\r\n          padding: 12px;\r\n          font-size: 15px;\r\n          outline: none;\r\n          border: none;\r\n          color: #fff;\r\n          margin-top: 90px;\r\n        }\r\n      }\r\n    }\r\n\r\n    .account-right {\r\n      text-align: left;\r\n      padding-left: 70px;\r\n\r\n      .account-name {\r\n        font-family: 'Merriweather', serif;\r\n        font-size: 32px;\r\n        margin-bottom: 40px;\r\n      }\r\n\r\n      .account-info {\r\n        li {\r\n          margin-bottom: 14px;\r\n\r\n          label {\r\n            font-family: 'Merriweather', serif;\r\n            line-height: 28px;\r\n            font-weight: bold;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .upgrade-downgrade-account,\r\n    .delete-account {\r\n      align-self: end;\r\n      text-decoration: underline;\r\n      display: inline-block;\r\n\r\n      a:hover {\r\n        color: #000;\r\n      }\r\n    }\r\n\r\n\r\n    .upgrade-downgrade-account {\r\n      text-align: left;\r\n\r\n      a {\r\n        color: #14aaf5;\r\n      }\r\n    }\r\n\r\n    .delete-account {\r\n      text-align: right;\r\n\r\n      a {\r\n        color: #898e95;\r\n      }\r\n    }\r\n  }\r\n\r\n  .account-modal {\r\n    .account-modal-inner {\r\n      position: fixed;\r\n      width: 350px;\r\n      top: 50%;\r\n      transform: translateY(-50%);\r\n      left: 0;\r\n      right: 0;\r\n      margin-left: auto;\r\n      margin-right: auto;\r\n      padding: 20px;\r\n      z-index: 2;\r\n      background-color: white;\r\n      border-radius: 3px 3px 3px 3px;\r\n      border: 1px solid #B9BCC0;\r\n      box-shadow: 0px 2px 3px rgba(0,0,0,0.3);\r\n      max-height: calc(100vh - 203px);\r\n      overflow-y: auto;\r\n      font-family: 'Source Sans Pro', sans-serif;\r\n      text-align: left;\r\n\r\n      &.error {\r\n        .account-modal-title {\r\n          color: #dd0000;\r\n        }\r\n      }\r\n\r\n      &.processing {\r\n        background: none;\r\n        border: none;\r\n        box-shadow: none;\r\n\r\n        .rs-logo .rs-logo-image {\r\n          width: 120px;\r\n          margin-bottom: 12px;\r\n          animation-name: wiggle;\r\n          animation-duration: 2.5s;\r\n          animation-iteration-count: infinite;\r\n          animation-timing-function: ease-in-out;\r\n        }\r\n\r\n        .account-processing {\r\n          display: block;\r\n        }\r\n      }\r\n\r\n      &.confirm-delete {\r\n        .account-modal-title {\r\n          color: #f00;\r\n        }\r\n\r\n        .account-delete-confirm-btn {\r\n          background-color: #f00;\r\n\r\n          &:hover {\r\n            background-color: #fff;\r\n            border: solid 1px #f00;\r\n            color: #f00;;\r\n          }\r\n        }\r\n\r\n        .account-modal-close {\r\n          color: #000;\r\n          margin-top: 10px;\r\n          background-color: #fff;\r\n          padding: 5px;\r\n        }\r\n      \r\n      }\r\n\r\n      .rs-logo {\r\n        text-align: center;\r\n\r\n        .rs-logo-image {\r\n          width: 60px;\r\n          margin-bottom: 25px;\r\n        }\r\n      }\r\n\r\n      .account-processing {\r\n        display: none;\r\n        text-align: center;\r\n        color: white;\r\n        font-size: 24px;\r\n        letter-spacing: 0.5px;\r\n      }\r\n\r\n      .account-modal-title {\r\n        font-weight: bold;\r\n        font-size: 22px;\r\n        margin-bottom: 8px;\r\n      }      \r\n\r\n      .account-message {\r\n        font-size: 16px;\r\n        margin-bottom: 30px;\r\n        line-height: 22px;\r\n      }\r\n\r\n      .account-modal-cta {\r\n        cursor: pointer;\r\n        display: block;\r\n        width: 100%;\r\n        text-decoration: none;\r\n        padding: 15px 0;\r\n        text-align: center;\r\n        border-radius: 4px;\r\n        background-color: #000;\r\n        color: #fff;\r\n        font-size: 18px;\r\n        border: solid 1px transparent;\r\n        transition: all .15s ease;\r\n\r\n        &:hover {\r\n          background-color: #fff;\r\n          border: solid 1px #000;\r\n          color: #000;\r\n        }\r\n      }\r\n    }\r\n\r\n    .account-overlay {\r\n      position: fixed;\r\n      z-index: 1;\r\n      left: 0;\r\n      top: 0;\r\n      width: 100%;\r\n      height: 100%;\r\n      overflow: auto;\r\n      background-color: rgba(0,0,0,0.5);\r\n    }\r\n  }\r\n}\r\n\r\n@import '@/styles/_account-mobile.scss';\r\n\r\n\r\n@keyframes wiggle {\r\n  0% {transform: rotate(0deg);}\r\n  25% {transform: rotate(-25deg);}\r\n  50% {transform: rotate(25deg);}\r\n  75% {transform: rotate(-25deg);}\r\n  100% {transform: rotate(0deg);}\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Account.vue?vue&type=template&id=532e9bc8&\"\nimport script from \"./Account.vue?vue&type=script&lang=js&\"\nexport * from \"./Account.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Account.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) if (isEnum.call(O, key = keys[i++])) {\n      result.push(isEntries ? [key, O[key]] : O[key]);\n    } return result;\n  };\n};\n","module.exports = __webpack_public_path__ + \"img/logo-255x255.fc5c8721.svg\";","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Account.vue?vue&type=style&index=0&lang=scss&\"","import Api from '@/services/Api';\r\n\r\nexport default {\r\n  charge(data) {\r\n    return Api().post('/charge', data);\r\n  },\r\n  cancelSubscription() {\r\n    return Api().get('/cancel-subscription');\r\n  },\r\n  deleteAccount() {\r\n    return Api().get('/delete-account');\r\n  }\r\n}","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $entries = require('./_object-to-array')(true);\n\n$export($export.S, 'Object', {\n  entries: function entries(it) {\n    return $entries(it);\n  }\n});\n"],"sourceRoot":""}